{"ast":null,"code":"import _toConsumableArray from\"C:\\\\webgis\\\\newfold\\\\dapp-project\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\toConsumableArray.js\";import{useERC20Balance}from\"hooks/useERC20Balance\";import{useMoralis,useNativeBalance}from\"react-moralis\";import{Image,Select}from\"antd\";import{useMemo}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function AssetSelector(_ref){var setAsset=_ref.setAsset,style=_ref.style;var _useERC20Balance=useERC20Balance(),assets=_useERC20Balance.assets;var _useNativeBalance=useNativeBalance(),nativeBalance=_useNativeBalance.data,nativeToken=_useNativeBalance.nativeToken;var _useMoralis=useMoralis(),Moralis=_useMoralis.Moralis;var fullBalance=useMemo(function(){if(!assets||!nativeBalance)return null;return[].concat(_toConsumableArray(assets),[{balance:nativeBalance.balance,decimals:nativeToken.decimals,name:nativeToken.name,symbol:nativeToken.symbol,token_address:\"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee\"}]);},[assets,nativeBalance,nativeToken]);function handleChange(value){var token=fullBalance.find(function(token){return token.token_address===value;});setAsset(token);}return/*#__PURE__*/_jsx(Select,{onChange:handleChange,size:\"large\",style:style,children:fullBalance&&fullBalance.map(function(item){var _parseFloat,_Moralis$Units;console.log(item);return/*#__PURE__*/_jsx(Select.Option,{value:item[\"token_address\"],children:/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",width:\"100%\",gap:\"8px\"},children:[/*#__PURE__*/_jsx(Image,{src:item.logo||\"https://etherscan.io/images/main/empty-token.png\",alt:\"nologo\",width:\"24px\",height:\"24px\",preview:false,style:{borderRadius:\"15px\"}}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",width:\"90%\"},children:[/*#__PURE__*/_jsx(\"p\",{children:item.symbol}),/*#__PURE__*/_jsxs(\"p\",{style:{alignSelf:\"right\"},children:[\"(\",(_parseFloat=parseFloat(Moralis===null||Moralis===void 0?void 0:(_Moralis$Units=Moralis.Units)===null||_Moralis$Units===void 0?void 0:_Moralis$Units.FromWei(item.balance,item.decimals)))===null||_parseFloat===void 0?void 0:_parseFloat.toFixed(6),\")\"]})]})]})},item[\"token_address\"]);})});}","map":{"version":3,"sources":["C:/webgis/newfold/dapp-project/src/components/Wallet/components/AssetSelector.jsx"],"names":["useERC20Balance","useMoralis","useNativeBalance","Image","Select","useMemo","AssetSelector","setAsset","style","assets","nativeBalance","data","nativeToken","Moralis","fullBalance","balance","decimals","name","symbol","token_address","handleChange","value","token","find","map","item","console","log","display","alignItems","width","gap","logo","borderRadius","justifyContent","alignSelf","parseFloat","Units","FromWei","toFixed"],"mappings":"qIAAA,OAASA,eAAT,KAAgC,uBAAhC,CACA,OAASC,UAAT,CAAqBC,gBAArB,KAA6C,eAA7C,CACA,OAASC,KAAT,CAAgBC,MAAhB,KAA8B,MAA9B,CACA,OAASC,OAAT,KAAwB,OAAxB,C,wFAEA,cAAe,SAASC,CAAAA,aAAT,MAA4C,IAAnBC,CAAAA,QAAmB,MAAnBA,QAAmB,CAATC,KAAS,MAATA,KAAS,CACzD,qBAAmBR,eAAe,EAAlC,CAAQS,MAAR,kBAAQA,MAAR,CACA,sBAA6CP,gBAAgB,EAA7D,CAAcQ,aAAd,mBAAQC,IAAR,CAA6BC,WAA7B,mBAA6BA,WAA7B,CACA,gBAAoBX,UAAU,EAA9B,CAAQY,OAAR,aAAQA,OAAR,CAEA,GAAMC,CAAAA,WAAW,CAAGT,OAAO,CAAC,UAAM,CAChC,GAAI,CAACI,MAAD,EAAW,CAACC,aAAhB,CAA+B,MAAO,KAAP,CAC/B,mCACKD,MADL,GAEE,CACEM,OAAO,CAAEL,aAAa,CAACK,OADzB,CAEEC,QAAQ,CAAEJ,WAAW,CAACI,QAFxB,CAGEC,IAAI,CAAEL,WAAW,CAACK,IAHpB,CAIEC,MAAM,CAAEN,WAAW,CAACM,MAJtB,CAKEC,aAAa,CAAE,4CALjB,CAFF,GAUD,CAZ0B,CAYxB,CAACV,MAAD,CAASC,aAAT,CAAwBE,WAAxB,CAZwB,CAA3B,CAcA,QAASQ,CAAAA,YAAT,CAAsBC,KAAtB,CAA6B,CAC3B,GAAMC,CAAAA,KAAK,CAAGR,WAAW,CAACS,IAAZ,CAAiB,SAACD,KAAD,QAAWA,CAAAA,KAAK,CAACH,aAAN,GAAwBE,KAAnC,EAAjB,CAAd,CACAd,QAAQ,CAACe,KAAD,CAAR,CACD,CAED,mBACE,KAAC,MAAD,EAAQ,QAAQ,CAAEF,YAAlB,CAAgC,IAAI,CAAC,OAArC,CAA6C,KAAK,CAAEZ,KAApD,UACGM,WAAW,EACVA,WAAW,CAACU,GAAZ,CAAgB,SAACC,IAAD,CAAU,gCACxBC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACA,mBACE,KAAC,MAAD,CAAQ,MAAR,EACE,KAAK,CAAEA,IAAI,CAAC,eAAD,CADb,uBAIE,aACE,KAAK,CAAE,CACLG,OAAO,CAAE,MADJ,CAELC,UAAU,CAAE,QAFP,CAGLC,KAAK,CAAE,MAHF,CAILC,GAAG,CAAE,KAJA,CADT,wBAQE,KAAC,KAAD,EACE,GAAG,CACDN,IAAI,CAACO,IAAL,EACA,kDAHJ,CAKE,GAAG,CAAC,QALN,CAME,KAAK,CAAC,MANR,CAOE,MAAM,CAAC,MAPT,CAQE,OAAO,CAAE,KARX,CASE,KAAK,CAAE,CAAEC,YAAY,CAAE,MAAhB,CATT,EARF,cAmBE,aACE,KAAK,CAAE,CACLL,OAAO,CAAE,MADJ,CAELM,cAAc,CAAE,eAFX,CAGLJ,KAAK,CAAE,KAHF,CADT,wBAOE,mBAAIL,IAAI,CAACP,MAAT,EAPF,cAQE,WAAG,KAAK,CAAE,CAAEiB,SAAS,CAAE,OAAb,CAAV,4BAEGC,UAAU,CACTvB,OADS,SACTA,OADS,iCACTA,OAAO,CAAEwB,KADA,yCACT,eAAgBC,OAAhB,CAAwBb,IAAI,CAACV,OAA7B,CAAsCU,IAAI,CAACT,QAA3C,CADS,CAFb,sCAEG,YAEEuB,OAFF,CAEU,CAFV,CAFH,OARF,GAnBF,GAJF,EAEOd,IAAI,CAAC,eAAD,CAFX,CADF,CA2CD,CA7CD,CAFJ,EADF,CAmDD","sourcesContent":["import { useERC20Balance } from \"hooks/useERC20Balance\";\r\nimport { useMoralis, useNativeBalance } from \"react-moralis\";\r\nimport { Image, Select } from \"antd\";\r\nimport { useMemo } from \"react\";\r\n\r\nexport default function AssetSelector({ setAsset, style }) {\r\n  const { assets } = useERC20Balance();\r\n  const { data: nativeBalance, nativeToken } = useNativeBalance();\r\n  const { Moralis } = useMoralis();\r\n\r\n  const fullBalance = useMemo(() => {\r\n    if (!assets || !nativeBalance) return null;\r\n    return [\r\n      ...assets,\r\n      {\r\n        balance: nativeBalance.balance,\r\n        decimals: nativeToken.decimals,\r\n        name: nativeToken.name,\r\n        symbol: nativeToken.symbol,\r\n        token_address: \"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee\",\r\n      },\r\n    ];\r\n  }, [assets, nativeBalance, nativeToken]);\r\n\r\n  function handleChange(value) {\r\n    const token = fullBalance.find((token) => token.token_address === value);\r\n    setAsset(token);\r\n  }\r\n\r\n  return (\r\n    <Select onChange={handleChange} size=\"large\" style={style}>\r\n      {fullBalance &&\r\n        fullBalance.map((item) => {\r\n          console.log(item);\r\n          return (\r\n            <Select.Option\r\n              value={item[\"token_address\"]}\r\n              key={item[\"token_address\"]}\r\n            >\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  width: \"100%\",\r\n                  gap: \"8px\",\r\n                }}\r\n              >\r\n                <Image\r\n                  src={\r\n                    item.logo ||\r\n                    \"https://etherscan.io/images/main/empty-token.png\"\r\n                  }\r\n                  alt=\"nologo\"\r\n                  width=\"24px\"\r\n                  height=\"24px\"\r\n                  preview={false}\r\n                  style={{ borderRadius: \"15px\" }}\r\n                />\r\n                <div\r\n                  style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"space-between\",\r\n                    width: \"90%\",\r\n                  }}\r\n                >\r\n                  <p>{item.symbol}</p>\r\n                  <p style={{ alignSelf: \"right\" }}>\r\n                    (\r\n                    {parseFloat(\r\n                      Moralis?.Units?.FromWei(item.balance, item.decimals),\r\n                    )?.toFixed(6)}\r\n                    )\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </Select.Option>\r\n          );\r\n        })}\r\n    </Select>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}